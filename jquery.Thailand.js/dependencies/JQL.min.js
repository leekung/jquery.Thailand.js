/*!
* @name JQL.js
* @version 1.0.4
* @update May 31, 2018
* @author Earthchie http://www.earthchie.com/
* @license WTFPL v.2 - http://www.wtfpl.net/
*/
(function(d,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define('JQL',[],e):'object'==typeof exports?exports.JQL=e():d.JQL=e()})(this,function(){return function(c){function d(f){if(e[f])return e[f].exports;var g=e[f]={i:f,l:!1,exports:{}};return c[f].call(g.exports,g,g.exports,d),g.l=!0,g.exports}var e={};return d.m=c,d.c=e,d.i=function(f){return f},d.d=function(f,g,h){d.o(f,g)||Object.defineProperty(f,g,{configurable:!1,enumerable:!0,get:h})},d.n=function(f){var g=f&&f.__esModule?function(){return f['default']}:function(){return f};return d.d(g,'a',g),g},d.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},d.p='',d(d.s=0)}([function(c){'object'==typeof c&&c.exports&&(c.exports=function(f){for(const g in'string'==typeof f&&(f=JSON.parse(f)),this.data_source=f,this.buffer=f,this.focused_field='',this.options=[],this.size=!1,f){for(const h in f[g])this.options.push(h);break}this.fetch=function(){if('object'==typeof this.options){const h={};for(var g=0;g<this.buffer.length;g++)for(const k in h[g]={},this.options){const l=this.options[k];this.buffer[g][l]&&(h[g][l]=this.buffer[g][l])}this.buffer=h}if(this.size){const h=this.size.toString().split(',');let k=0,l=this.size;1<h.length&&h[0]<h[1]&&(k=parseInt(h[0]),l=k+parseInt(h[1]));const m={};for(var g=k;g<l&&this.buffer[g];g++)m[g]=this.buffer[g];this.buffer=m}return this.buffer},this.new=function(g){this.data_source=g,this.buffer=g},this.limit=function(g){return this.size=g,this},this.select=function(g){return this.options=g,'string'==typeof g&&'*'!==g&&(this.options=g.split(',')),this.buffer=this.data_source,this.size=!1,this},this.where=function(g){return this.focused_field=g,this},this.contains=function(g,h){const k=this.buffer;for(const l in this.buffer=[],k)h?~k[l][this.focused_field].indexOf(g)&&this.buffer.push(k[l]):~k[l][this.focused_field].toLowerCase().indexOf(g.toLowerCase())&&this.buffer.push(k[l]);return this},this.match=function(g,h){if('string'==typeof g&&''!==g){h=h||'ig',g=new RegExp(g,h);const k=this.buffer;for(const l in this.buffer=[],k)g.lastIndex=0,g.exec(k[l][this.focused_field])&&this.buffer.push(k[l])}return this},this.equalTo=function(g){const h=this.buffer;for(const k in this.buffer=[],h)h[k][this.focused_field]==g&&this.buffer.push(h[k]);return this},this.in=function(g){const h=this.buffer;for(const k in this.buffer=[],h)this.in_array(h[k][this.focused_field],g)&&this.buffer.push(h[k]);return this},this.moreThan=function(g){const h=this.buffer;for(const k in this.buffer=[],h)parseFloat(h[k][this.focused_field])>parseFloat(g)&&this.buffer.push(h[k]);return this},this.moreThanOrEqualTo=function(g){const h=this.buffer;for(const k in this.buffer=[],h)parseFloat(h[k][this.focused_field])>=parseFloat(g)&&this.buffer.push(h[k]);return this},this.lessThan=function(g){const h=this.buffer;for(const k in this.buffer=[],h)parseFloat(h[k][this.focused_field])<parseFloat(g)&&this.buffer.push(h[k]);return this},this.lessThanOrEqualTo=function(g){const h=this.buffer;for(const k in this.buffer=[],h)parseFloat(h[k][this.focused_field])<=parseFloat(g)&&this.buffer.push(h[k]);return this},this.orderBy=function(g,h){let k='asc';const l=g.split(' '),m=l.pop();m&&'desc'==m.toLowerCase()&&(k='desc',g=l.join(' '));const n=[];for(var o=0;o<this.buffer.length;o++)n.push([o,this.buffer[o][g]]);if(2>n.length)return this;h=void 0==h&&isNaN(n[0][1])?'string':'numeric','string'==h?n.sort((q,r)=>{return q[1]<r[1]?-1:q[1]>r[1]?1:0}):n.sort((q,r)=>q[1]-r[1]);let p=[];for(var o=0;o<n.length;o++)p.push(this.buffer[n[o][0]]);return this.buffer=p,'desc'==k&&(this.buffer=this.buffer.reverse()),this},this.and=this.where,this.is=this.equalTo,this.in_array=function(g,h){for(const k in h)if(g==h[k])return!0;return!1}})}])});